import Q from'lodash/isEmpty';import {EAuthErrorCodes,API_BASE_URL,RANDOM_EMOJI_CODES,DEFAULT_WORK_ITEM_FORM_VALUES,E_PASSWORD_STRENGTH,EErrorAlertType,COMPLETED_STATE_GROUPS,STATE_DISTRIBUTION,EEstimateSystem,EPastDurationFilters,EUserPermissions,SPACE_BASE_URL,SPACE_BASE_PATH,TAB_INDEX_MAP,ISSUE_DISPLAY_FILTERS_BY_PAGE,STATE_GROUPS,ISSUE_PRIORITY_FILTERS}from'@unified-teamspace/constants';import {EStartOfTheWeek,EProductSubscriptionEnum,EIssueLayoutTypes}from'@unified-teamspace/types';import {isValid,format,differenceInDays,parseISO,formatDistanceToNow,isAfter,isEqual,subDays,startOfToday}from'date-fns';import U from'lodash/isNumber';import {clsx}from'clsx';import {twMerge}from'tailwind-merge';import ue from'lodash/orderBy';import T from'lodash/sortBy';import $e from'lodash/uniqBy';import {differenceInCalendarDays}from'date-fns/differenceInCalendarDays';import ve from'lodash/get';import Ve from'lodash/set';import {Github,Linkedin,Twitter,Facebook,Instagram,Youtube,Dribbble,Figma,FileText,FileImage,FileVideo,FileAudio,FileArchive,FileSpreadsheet,FileCode,Mail,Chrome,Link2}from'lucide-react';import ie from'isomorphic-dompurify';import ht from'lodash/isNil';import Et from'tlds';import {v4}from'uuid';var Mt=(e,t)=>{let r=t.split(".");return e.reduce((n,s)=>{let o=r.reduce((a,i)=>a?.[i],s)??"None";return (n[o]=n[o]||[]).push(s),n},{})},N=(e,t,r="ascending")=>{if(!e||!Array.isArray(e)||e.length===0)return [];let n=[...e];t[0]==="-"&&(r="descending",t=t.slice(1));let s=t.split(".");return n.sort((o,a)=>{let i=s.reduce((l,u)=>l[u],o),d=s.reduce((l,u)=>l[u],a);return i<d?r==="ascending"?-1:1:i>d?r==="ascending"?1:-1:0})},Ot=e=>new Set(e).size!==e.length,Nt=e=>!e||e.length===0?"":e.reduce((t,r)=>r.length>t.length?r:t),wt=(e,t)=>!e||!t||!Array.isArray(e)||!Array.isArray(t)?false:e.length===0&&t.length===0?true:e.length===t.length&&e.every(r=>t.includes(r)),Ut=(e,t)=>e.reduce((r,n)=>{let s=String(n[t]);return r[s]=(r[s]||[]).concat(n),r},{}),Ct=(e,t)=>e.sort((r,n)=>r[t]<n[t]?-1:r[t]>n[t]?1:0),Lt=(e,t)=>{for(let r in e)e.hasOwnProperty(r)&&(e[r]=e[r].sort((n,s)=>n[t]<s[t]?-1:n[t]>s[t]?1:0));return e},_e=(e,t=null)=>{let r=[];return e.forEach(n=>{if(n.parent===t){let s=_e(e,n.id);n.children=s,r.push(n);}}),r},kt=e=>!e||Q(e)||typeof e!="object"||Array.isArray(e)?[]:Object.keys(e).filter(t=>!!e[t]),$t=e=>{let t={};for(let r of e)t[r]=true;return t};var Gt=e=>{let r=new Date().getTime(),n=he(e),s=n.length>80?n.substring(0,80):n,o=Ie(e);return `${s}-${r}.${o}`},Ie=e=>e.slice((e.lastIndexOf(".")-1>>>0)+2),he=e=>{let t=e.lastIndexOf(".");return e.substring(0,t)},vt=e=>{let t;return e<1048576?t=Math.round(e/1024)+" KB":t=Math.round(e/1048576)+" MB",t};var ye=(o=>(o.EMPTY="empty",o.WEAK="weak",o.FAIR="fair",o.GOOD="good",o.STRONG="strong",o))(ye||{}),Wt=e=>{if(!e||e===""||e.length<=0)return E_PASSWORD_STRENGTH.EMPTY;if(e.length<8)return E_PASSWORD_STRENGTH.LENGTH_NOT_VALID;let t=/[A-Z]/.test(e),r=/[a-z]/.test(e),n=/[0-9]/.test(e),s=/[!@#$%^&*()\-_+=\[\]{}|;:'",.<>?/]/.test(e);return t&&r&&n&&s?E_PASSWORD_STRENGTH.STRENGTH_VALID:E_PASSWORD_STRENGTH.STRENGTH_NOT_VALID},qt=e=>[{key:"length",label:"Min 8 characters",isValid:e.length>=8},{key:"uppercase",label:"Min 1 upper-case letter",isValid:/[A-Z]/.test(e)},{key:"lowercase",label:"Min 1 lower-case letter",isValid:/[a-z]/.test(e)},{key:"number",label:"Min 1 number",isValid:/[0-9]/.test(e)},{key:"special",label:"Min 1 special character",isValid:/[!@#$%^&*()\-_+=\[\]{}|;:'",.<>?/]/.test(e)}],J={[EAuthErrorCodes.INSTANCE_NOT_CONFIGURED]:{title:"Instance not configured",message:()=>"Instance not configured. Please contact your administrator."},[EAuthErrorCodes.SIGNUP_DISABLED]:{title:"Sign up disabled",message:()=>"Sign up disabled. Please contact your administrator."},[EAuthErrorCodes.INVALID_PASSWORD]:{title:"Invalid password",message:()=>"Invalid password. Please try again."},[EAuthErrorCodes.SMTP_NOT_CONFIGURED]:{title:"SMTP not configured",message:()=>"SMTP not configured. Please contact your administrator."},[EAuthErrorCodes.INVALID_EMAIL]:{title:"Invalid email",message:()=>"Invalid email. Please try again."},[EAuthErrorCodes.EMAIL_REQUIRED]:{title:"Email required",message:()=>"Email required. Please try again."},[EAuthErrorCodes.USER_ALREADY_EXIST]:{title:"User already exists",message:()=>"Your account is already registered. Sign in now."},[EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_UP]:{title:"Email and password required",message:()=>"Email and password required. Please try again."},[EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_UP]:{title:"Authentication failed",message:()=>"Authentication failed. Please try again."},[EAuthErrorCodes.INVALID_EMAIL_SIGN_UP]:{title:"Invalid email",message:()=>"Invalid email. Please try again."},[EAuthErrorCodes.MAGIC_SIGN_UP_EMAIL_CODE_REQUIRED]:{title:"Email and code required",message:()=>"Email and code required. Please try again."},[EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_UP]:{title:"Invalid email",message:()=>"Invalid email. Please try again."},[EAuthErrorCodes.USER_ACCOUNT_DEACTIVATED]:{title:"User account deactivated",message:()=>"User account deactivated. Please contact administrator."},[EAuthErrorCodes.USER_DOES_NOT_EXIST]:{title:"User does not exist",message:()=>"No account found. Create one to get started."},[EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_IN]:{title:"Email and password required",message:()=>"Email and password required. Please try again."},[EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_IN]:{title:"Authentication failed",message:()=>"Authentication failed. Please try again."},[EAuthErrorCodes.INVALID_EMAIL_SIGN_IN]:{title:"Invalid email",message:()=>"Invalid email. Please try again."},[EAuthErrorCodes.MAGIC_SIGN_IN_EMAIL_CODE_REQUIRED]:{title:"Email and code required",message:()=>"Email and code required. Please try again."},[EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_IN]:{title:"Invalid email",message:()=>"Invalid email. Please try again."},[EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_IN]:{title:"Authentication failed",message:()=>"Invalid magic code. Please try again."},[EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_UP]:{title:"Authentication failed",message:()=>"Invalid magic code. Please try again."},[EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_IN]:{title:"Expired magic code",message:()=>"Expired magic code. Please try again."},[EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_UP]:{title:"Expired magic code",message:()=>"Expired magic code. Please try again."},[EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_IN]:{title:"Expired magic code",message:()=>"Expired magic code. Please try again."},[EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_UP]:{title:"Expired magic code",message:()=>"Expired magic code. Please try again."},[EAuthErrorCodes.OAUTH_NOT_CONFIGURED]:{title:"OAuth not configured",message:()=>"OAuth not configured. Please contact your administrator."},[EAuthErrorCodes.GOOGLE_NOT_CONFIGURED]:{title:"Google not configured",message:()=>"Google not configured. Please contact your administrator."},[EAuthErrorCodes.GITHUB_NOT_CONFIGURED]:{title:"GitHub not configured",message:()=>"GitHub not configured. Please contact your administrator."},[EAuthErrorCodes.GITLAB_NOT_CONFIGURED]:{title:"GitLab not configured",message:()=>"GitLab not configured. Please contact your administrator."},[EAuthErrorCodes.GOOGLE_OAUTH_PROVIDER_ERROR]:{title:"Google OAuth provider error",message:()=>"Google OAuth provider error. Please try again."},[EAuthErrorCodes.GITHUB_OAUTH_PROVIDER_ERROR]:{title:"GitHub OAuth provider error",message:()=>"GitHub OAuth provider error. Please try again."},[EAuthErrorCodes.GITLAB_OAUTH_PROVIDER_ERROR]:{title:"GitLab OAuth provider error",message:()=>"GitLab OAuth provider error. Please try again."},[EAuthErrorCodes.INVALID_PASSWORD_TOKEN]:{title:"Invalid password token",message:()=>"Invalid password token. Please try again."},[EAuthErrorCodes.EXPIRED_PASSWORD_TOKEN]:{title:"Expired password token",message:()=>"Expired password token. Please try again."},[EAuthErrorCodes.MISSING_PASSWORD]:{title:"Password required",message:()=>"Password required. Please try again."},[EAuthErrorCodes.INCORRECT_OLD_PASSWORD]:{title:"Incorrect old password",message:()=>"Incorrect old password. Please try again."},[EAuthErrorCodes.INVALID_NEW_PASSWORD]:{title:"Invalid new password",message:()=>"Invalid new password. Please try again."},[EAuthErrorCodes.PASSWORD_ALREADY_SET]:{title:"Password already set",message:()=>"Password already set. Please try again."},[EAuthErrorCodes.ADMIN_ALREADY_EXIST]:{title:"Admin already exists",message:()=>"Admin already exists. Please try again."},[EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD_FIRST_NAME]:{title:"Email, password and first name required",message:()=>"Email, password and first name required. Please try again."},[EAuthErrorCodes.INVALID_ADMIN_EMAIL]:{title:"Invalid admin email",message:()=>"Invalid admin email. Please try again."},[EAuthErrorCodes.INVALID_ADMIN_PASSWORD]:{title:"Invalid admin password",message:()=>"Invalid admin password. Please try again."},[EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD]:{title:"Email and password required",message:()=>"Email and password required. Please try again."},[EAuthErrorCodes.ADMIN_AUTHENTICATION_FAILED]:{title:"Authentication failed",message:()=>"Authentication failed. Please try again."},[EAuthErrorCodes.ADMIN_USER_ALREADY_EXIST]:{title:"Admin user already exists",message:()=>"Admin user already exists. Sign in now."},[EAuthErrorCodes.ADMIN_USER_DOES_NOT_EXIST]:{title:"Admin user does not exist",message:()=>"Admin user does not exist. Sign in now."},[EAuthErrorCodes.MAGIC_LINK_LOGIN_DISABLED]:{title:"Magic link login disabled",message:()=>"Magic link login is disabled. Please use password to login."},[EAuthErrorCodes.PASSWORD_LOGIN_DISABLED]:{title:"Password login disabled",message:()=>"Password login is disabled. Please use magic link to login."},[EAuthErrorCodes.ADMIN_USER_DEACTIVATED]:{title:"Admin user deactivated",message:()=>"Admin user account has been deactivated. Please contact administrator."},[EAuthErrorCodes.RATE_LIMIT_EXCEEDED]:{title:"Rate limit exceeded",message:()=>"Too many requests. Please try again later."}},Bt=(e,t)=>{if([EAuthErrorCodes.INSTANCE_NOT_CONFIGURED,EAuthErrorCodes.INVALID_EMAIL,EAuthErrorCodes.EMAIL_REQUIRED,EAuthErrorCodes.SIGNUP_DISABLED,EAuthErrorCodes.INVALID_PASSWORD,EAuthErrorCodes.SMTP_NOT_CONFIGURED,EAuthErrorCodes.USER_ALREADY_EXIST,EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_UP,EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_UP,EAuthErrorCodes.INVALID_EMAIL_SIGN_UP,EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_UP,EAuthErrorCodes.MAGIC_SIGN_UP_EMAIL_CODE_REQUIRED,EAuthErrorCodes.USER_DOES_NOT_EXIST,EAuthErrorCodes.AUTHENTICATION_FAILED_SIGN_IN,EAuthErrorCodes.REQUIRED_EMAIL_PASSWORD_SIGN_IN,EAuthErrorCodes.INVALID_EMAIL_SIGN_IN,EAuthErrorCodes.INVALID_EMAIL_MAGIC_SIGN_IN,EAuthErrorCodes.MAGIC_SIGN_IN_EMAIL_CODE_REQUIRED,EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_IN,EAuthErrorCodes.INVALID_MAGIC_CODE_SIGN_UP,EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_IN,EAuthErrorCodes.EXPIRED_MAGIC_CODE_SIGN_UP,EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_IN,EAuthErrorCodes.EMAIL_CODE_ATTEMPT_EXHAUSTED_SIGN_UP,EAuthErrorCodes.OAUTH_NOT_CONFIGURED,EAuthErrorCodes.GOOGLE_NOT_CONFIGURED,EAuthErrorCodes.GITHUB_NOT_CONFIGURED,EAuthErrorCodes.GITLAB_NOT_CONFIGURED,EAuthErrorCodes.GOOGLE_OAUTH_PROVIDER_ERROR,EAuthErrorCodes.GITHUB_OAUTH_PROVIDER_ERROR,EAuthErrorCodes.GITLAB_OAUTH_PROVIDER_ERROR,EAuthErrorCodes.INVALID_PASSWORD_TOKEN,EAuthErrorCodes.EXPIRED_PASSWORD_TOKEN,EAuthErrorCodes.INCORRECT_OLD_PASSWORD,EAuthErrorCodes.INVALID_NEW_PASSWORD,EAuthErrorCodes.PASSWORD_ALREADY_SET,EAuthErrorCodes.ADMIN_ALREADY_EXIST,EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD_FIRST_NAME,EAuthErrorCodes.INVALID_ADMIN_EMAIL,EAuthErrorCodes.INVALID_ADMIN_PASSWORD,EAuthErrorCodes.REQUIRED_ADMIN_EMAIL_PASSWORD,EAuthErrorCodes.ADMIN_AUTHENTICATION_FAILED,EAuthErrorCodes.ADMIN_USER_ALREADY_EXIST,EAuthErrorCodes.ADMIN_USER_DOES_NOT_EXIST,EAuthErrorCodes.USER_ACCOUNT_DEACTIVATED].includes(e))return {type:EErrorAlertType.BANNER_ALERT,code:e,title:J[e]?.title||"Error",message:J[e]?.message(t)||"Something went wrong. Please try again."}};var Qt=(e,t="MMM dd, yyyy")=>{let r=m(e);if(!r||!isValid(r))return;let n;try{n=format(r,t);}catch{n=format(r,"MMM dd, yyyy");}return n},Zt=e=>{let t=m(e);return !t||!isValid(t)?"":format(t,"MMM dd")},b=e=>{let t=m(e);return !t||!isValid(t)?void 0:format(t,"yyyy-MM-dd")},Jt=(e,t="24-hour")=>{let r=new Date(e);return !r||!isValid(r)?"":t==="12-hour"?format(r,"hh:mm a"):format(r,"HH:mm")},C=(e,t,r=true)=>{let n=m(e),s=m(t);if(!n||!s)return;if(!isValid(n)||!isValid(s))return 0;let o=differenceInDays(s,n);return r?o+1:o},Kt=(e,t)=>{let r=m(e);if(!r)return;let n=new Date(r);return n.setDate(n.getDate()+t),n},er=(e,t=true)=>{if(e)return C(new Date,e,t)},tr=e=>{if(!e)return "";let t=typeof e=="string"||typeof e=="number"?parseISO(String(e)):e;return t?formatDistanceToNow(t,{addSuffix:true}):""};function rr(e){if(!e)return "";let t=typeof e=="string"?parseISO(e):new Date(e),n=(new Date().getTime()-t.getTime())/1e3;if(n<60)return `${Math.floor(n)}s`;let s=n/60;if(s<60)return `${Math.floor(s)}m`;let o=s/60;if(o<24)return `${Math.floor(o)}h`;let a=o/24;if(a<30)return `${Math.floor(a)}d`;let i=a/30;if(i<12)return `${Math.floor(i)}mo`;let d=i/12;return `${Math.floor(d)}y`}var nr=e=>{if(!e)return  false;let t=parseISO(e),r=new Date;return isValid(t)?isAfter(t,r):false},L=e=>{let t=e,r=new Date(t.getFullYear(),0,1),n=Math.floor((t.getTime()-r.getTime())/(1440*60*1e3));return Math.ceil((n+1)/7)},sr=(e,t)=>{let r=m(e),n=m(t);return !r&&!n?true:!r||!n?false:isEqual(r,n)},m=e=>{try{if(!e||e==="")return;if(typeof e!="string"&&!(e instanceof String))return e;let[t,r,n]=e.substring(0,10).split("-"),s=parseInt(t),o=parseInt(r),a=parseInt(n);return !U(s)||!U(o)||!U(a)?void 0:new Date(s,o-1,a)}catch{return}},or=e=>/^\d{4}-\d{2}-\d{2}$/.test(e),ar=e=>e&&new Date(e).toISOString(),ir=e=>e&&new Date(e).getTime(),cr=()=>new Date().toISOString(),dr=(e,t)=>e*60+t,Se=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return {hours:t,minutes:r}},ur=e=>{let{hours:t,minutes:r}=Se(e);return `${t?`${t}h `:""}${r?`${r}m `:""}`},lr=e=>e/200*60,v=(e,t)=>{let r=new Date(e),n=new Date(t);n.setDate(n.getDate()+2);let s=[];for(;r<=n;)s.push({date:new Date(r).toISOString().split("T")[0]}),r.setDate(r.getDate()+1);return s},xe=e=>{let[t,r]=e.split("_"),n=parseInt(t,10);if(isNaN(n))throw new Error(`Invalid relative amount: ${t}`);let s=new Date;switch(r){case "days":s.setDate(s.getDate()+n);break;case "weeks":s.setDate(s.getDate()+n*7);break;case "months":s.setMonth(s.getMonth()+n);break;default:throw new Error(`Unsupported time unit: ${r}`)}return s},mr=e=>{let t=e.split(";"),r=t[0],n=t[1],s;return r.includes("_")?s=xe(r):s=new Date(r),{type:n,date:s}},pr=(e,t,r)=>{if(!e)return  false;let n=new Date(e),s=new Date(n.setHours(0,0,0,0)),o=new Date(t.getTime());return o.setHours(0,0,0,0),r==="after"?s>=o:s<=o},gr=(e,t)=>{if(!e&&!t)return "";if(e&&!t)return format(e,"MMM dd, yyyy");if(!e&&t)return format(t,"MMM dd, yyyy");if(e&&t){let r=e.getFullYear(),n=e.getMonth(),s=t.getFullYear(),o=t.getMonth();if(r===s&&n===o){let d=format(e,"dd"),l=format(t,"dd");return `${format(e,"MMM")} ${d} - ${l}, ${r}`}if(r===s){let d=format(e,"MMM dd"),l=format(t,"MMM dd");return `${d} - ${l}, ${r}`}let a=format(e,"MMM dd, yyyy"),i=format(t,"MMM dd, yyyy");return `${a} - ${i}`}return ""},fr=e=>{if(!U(e)||e===null||e===void 0||e<0)return "N/A";let t=Math.round(e),r=Math.floor(t/3600),n=Math.floor(t%3600/60),s=t%60,o=[];return r>0&&o.push(`${r} hr`),n>0&&o.push(`${n} min`),(s>0||o.length===0)&&o.push(`${s} sec`),o.join(" ")};var Tr=(e,t)=>{let r=e??{},n=t.getMonth(),s=t.getFullYear(),o=new Date(s,n,1),a=o.getFullYear(),i=o.getMonth(),d=new Date(a,i+1,0).getDate(),l=new Date(a,i,1).getDay();r[`y-${a}`]||={},r[`y-${a}`][`m-${i}`]||={};let u=Math.ceil((d+l)/7);for(let g=0;g<u;g++){let y={},_=L(new Date(a,i,g*7-l+1));for(let S=0;S<7;S++){let O=g*7+S-l,I=new Date(a,i,O+1),Z=b(I);Z&&(y[Z]={date:I,year:a,month:i,day:O+1,week:_,is_current_month:I.getMonth()===i,is_current_week:L(I)===L(new Date),is_today:I.toDateString()===new Date().toDateString()});}r[`y-${a}`][`m-${i}`][`w-${_}`]=y;}return r},Er=(e,t,r=EStartOfTheWeek.SUNDAY)=>[...e].sort((n,s)=>{let o=(7+t(n)-r)%7,a=(7+t(s)-r)%7;return o-a});var Re=e=>e<0?0:e>255?255:Math.floor(e),V=e=>Re(e).toString(16).padStart(2,"0"),H=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.trim());return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}},Me=({r:e,g:t,b:r})=>`#${V(e)}${V(t)}${V(r)}`,Ar=e=>{if(!/^#[0-9A-Fa-f]{6}$/.test(e))return {h:0,s:0,l:0};let t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255,s=Math.max(t,r,n),o=Math.min(t,r,n),a=0,i=0,d=(s+o)/2;if(s!==o){let l=s-o;switch(i=d>.5?l/(2-s-o):l/(s+o),s){case t:a=(r-n)/l+(r<n?6:0);break;case r:a=(n-t)/l+2;break;case n:a=(t-r)/l+4;break}a/=6;}return {h:a*360,s:i*100,l:d*100}},Sr=({h:e,s:t,l:r})=>{if(e<0||e>360||t<0||t>100||r<0||r>100)return "#000000";r/=100;let n=t*Math.min(r,1-r)/100,s=o=>{let a=(o+e/30)%12,i=r-n*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return `#${s(0)}${s(8)}${s(4)}`},j=({r:e,g:t,b:r})=>{let n=e/255,s=t/255,o=r/255,a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),i=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),d=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4);return .2126*a+.7152*i+.0722*d};function k(e,t){let r=j(e),n=j(t),s=Math.max(r,n),o=Math.min(r,n);return (s+.05)/(o+.05)}function Oe(e,t){return {r:e.r+(255-e.r)*t,g:e.g+(255-e.g)*t,b:e.b+(255-e.b)*t}}function Ne(e,t){return {r:e.r*(1-t),g:e.g*(1-t),b:e.b*(1-t)}}function xr(e){let t=H(e),r=j(t),n=t,s=3;if(r>.5){let o=n;if(k(n,{r:255,g:255,b:255})<s){let i=.1;for(;i<=.9&&(o=Ne(n,i),!(k(o,{r:255,g:255,b:255})>=s));)i+=.1;n=o;}}else {let o=n;if(k(n,{r:0,g:0,b:0})<s){let i=.1;for(;i<=.9&&(o=Oe(n,i),!(k(o,{r:0,g:0,b:0})>=s));)i+=.1;n=o;}}return {foreground:Me({r:n.r,g:n.g,b:n.b}),background:`rgba(${n.r}, ${n.g}, ${n.b}, 0.25)`}}var Pr=e=>{let t=e||Math.random().toString(36).substring(2,8),n=t.length.toString()+t+t,s=Array.from(n).reduce((d,l)=>{let u=l.charCodeAt(0);return (d<<5)-d+u},0);return {h:Math.abs(s%360),s:70,l:70}};var Nr=(e="")=>e,wr=(...e)=>twMerge(clsx(e)),Ur=e=>e.map(t=>t.id),Cr=(e,t)=>!!e&&t.includes(e),Lr=(e,t)=>e.filter(r=>t.includes(r)),kr=(e,t)=>{let r=[],n=[];return e.forEach(s=>{t.includes(s)?r.push(s):n.push(s);}),{valid:r,invalid:n}},$r=e=>e==null||typeof e!="object"?false:Object.keys(e).length>0,Fr=e=>e*.9*16;var Le=e=>e&&Object.keys(e).length>0?Object.keys(e).map(t=>{let r=e[t];return r===null?0:Array.isArray(r)?r.length:typeof r=="boolean"&&r?1:0}).reduce((t,r)=>t+r,0):0,h=(e,t)=>{let[r,n,s]=t.split(";"),o=m(r),a=differenceInCalendarDays(e,new Date);if(n==="custom"&&s==="custom"){if(r==="today")return a===0;if(r==="yesterday")return a===-1;if(r==="last_7_days")return a>=-7;if(r==="last_30_days")return a>=-30}if(!s&&o){if(n==="after")return e>=o;if(n==="before")return e<=o}if(s==="fromnow"){if(n==="before"){if(r==="1_weeks")return a<=-7;if(r==="2_weeks")return a<=-14;if(r==="1_months")return a<=-30}if(n==="after"){if(r==="1_weeks")return a>=7;if(r==="2_weeks")return a>=14;if(r==="1_months")return a>=30;if(r==="2_months")return a>=60}}return  false},jr=e=>{if(!e)return  false;let t=e?.displayFilters?.type;return Le(e?.filters??{})!==0||!!t};var Zr=(e,t)=>{if(e.length===0)return [];let r=["current","upcoming","draft"],n={current:1,upcoming:2,draft:3},s=e.filter(o=>r.includes(o.status?.toLowerCase()??""));return t?s=T(s,[o=>o.sort_order]):s=T(s,[o=>n[o.status?.toLowerCase()??""],o=>o.status?.toLowerCase()==="upcoming"?o.start_date:o.name.toLowerCase()]),s},Jr=(e,t)=>{let r=true;return Object.keys(t).forEach(n=>{let s=n;if(s==="status"&&t.status&&t.status.length>0&&(r=r&&t.status.includes(e.status?.toLowerCase()??"")),s==="start_date"&&t.start_date&&t.start_date.length>0){let o=m(e.start_date);t.start_date.forEach(a=>{r=r&&!!o&&h(o,a);});}if(s==="end_date"&&t.end_date&&t.end_date.length>0){let o=m(e.end_date);t.end_date.forEach(a=>{r=r&&!!o&&h(o,a);});}}),r},x=(e,t)=>t?e.total_issues:e.total_estimate_points,$=(e,t,r)=>Math.floor((C(e,r.end_date)||0)/(C(r.start_date,r.end_date)||0)*t),Fe=(e,t,r,n)=>{let s=format(startOfToday(),"yyyy-MM-dd"),o=e?t.distribution:t.estimate_distribution,a=v(n,n).map(d=>d.date);return Q(o)?[]:[...Object.keys(o.completion_chart),...a].map(d=>{let l=o.completion_chart[d]||0,u=e?t.total_issues:t.total_estimate_points,g=x(t,e)-l;return {date:d,scope:d<s?x(t,e):null,completed:g,backlog:e?t.backlog_issues:t.backlog_estimate_points,started:d===s?t[e?"started_issues":"started_estimate_points"]:void 0,unstarted:d===s?t[e?"unstarted_issues":"unstarted_estimate_points"]:void 0,cancelled:d===s?t[e?"cancelled_issues":"cancelled_estimate_points"]:void 0,pending:Math.abs(l||0),ideal:d<s?$(d,u||0,t):d<=t.end_date?$(s,u||0,t):null,actual:d<=s?r?Math.abs(l):g:void 0}})},Ge=(e,t,r,n)=>{if(!t.progress)return [];let s=startOfToday(),o=n>s?v(s,n):[];if(Q(t.progress))return o;s=format(startOfToday(),"yyyy-MM-dd");let a=t?.progress[t?.progress.length-1],i=x(a,e),d=$(a.date,i,t),l=[...ue(t?.progress,"date"),...o].map(u=>{let g=e?u.total_issues-u.completed_issues-u.cancelled_issues:u.total_estimate_points-u.completed_estimate_points-u.cancelled_estimate_points,y=e?u.completed_issues:u.completed_estimate_points,_=u.progress_date?format(new Date(u.progress_date),"yyyy-MM-dd"):u.date;return {date:_,scope:_<s?x(u,e):_<=t.end_date?i:null,completed:y,backlog:e?u.backlog_issues:u.backlog_estimate_points,started:e?u.started_issues:u.started_estimate_points,unstarted:e?u.unstarted_issues:u.unstarted_estimate_points,cancelled:e?u.cancelled_issues:u.cancelled_estimate_points,pending:Math.abs(g),ideal:_<s?$(_,x(u,e),t):_<t.end_date?d:null,actual:_<=s?r?Math.abs(g):y:void 0}});return l=$e(l,"date"),l},Kr=e=>{let{cycle:t,isBurnDown:r,isTypeIssue:n}=e,s=new Date(t.end_date);return t.version===1?Fe(n,t,r,s):Ge(n,t,r,s)};var an=(e,t,r,n)=>{let s=re(e,-1,r,n),o=re(t,1,r,n),a=s.chartUpdates,i=o.chartUpdates,d;return a.isCompleted===i.isCompleted?d=[...a.updates,...i.updates]:d=[...i.updates],{pathUpdates:[...s.pathUpdates,...o.pathUpdates,...d],assigneeUpdates:[...s.assigneeUpdates,...o.assigneeUpdates],labelUpdates:[...s.labelUpdates,...o.labelUpdates]}},re=(e,t,r,n)=>{let s=[];if(!e)return {pathUpdates:s,assigneeUpdates:[],labelUpdates:[],chartUpdates:{updates:[]}};let a=r[e.state_id??""].group,i=COMPLETED_STATE_GROUPS.indexOf(a)>-1,d=parseFloat(n?.(e.estimate_point??"")?.value??"0");s.push({path:["total_issues"],value:t}),s.push({path:["total_estimate_points"],value:t*d});let l=STATE_DISTRIBUTION[a];s.push({path:[l.issues],value:t}),s.push({path:[l.points],value:t*d});let u=ne(e.assignee_ids,i,d,t),g=ne(e.label_ids,i,d,t),y=We(i,e.completed_at,d,t);return {pathUpdates:s,assigneeUpdates:u,labelUpdates:g,chartUpdates:y}},ne=(e,t,r,n)=>{let s=[];for(let o of e){let a={id:o,total_issues:n,total_estimates:r*n};t?(a.completed_issues=n,a.completed_estimates=r*n):(a.pending_issues=n,a.pending_estimates=r*n),s.push(a);}return s},We=(e,t,r,n)=>{let s=format(new Date,"yyyy-MM-dd"),o=m(t);t&&o&&(s=format(o,"yyyy-MM-dd"));let a=e?-1:1;return {updates:[{path:["distribution","completion_chart",s],value:n*a},{path:["estimate_distribution","completion_chart",s],value:n*a*r}],isCompleted:e}},cn=(e,t)=>{let{pathUpdates:r,assigneeUpdates:n,labelUpdates:s}=t;for(let o of r){let{path:a,value:i}=o,d=ve(e,a);d!==void 0&&Ve(e,a,(d??0)+i);}for(let o of n){let{id:a}=o;if(Array.isArray(e.distribution?.assignees)){let i=e.distribution?.assignees?.find(d=>d.assignee_id===a);i&&(i.completed_issues+=o.completed_issues??0,i.pending_issues+=o.pending_issues??0,i.total_issues+=o.total_issues);}if(Array.isArray(e.estimate_distribution?.assignees)){let i=e.estimate_distribution?.assignees?.find(d=>d.assignee_id===a);i&&(i.completed_estimates+=o.completed_estimates??0,i.pending_estimates+=o.pending_estimates??0,i.total_estimates+=o.total_estimates);}}for(let o of s){let{id:a}=o;if(Array.isArray(e.distribution?.labels)){let i=e.distribution?.labels?.find(d=>d.label_id===a);i&&(i.completed_issues+=o.completed_issues??0,i.pending_issues+=o.pending_issues??0,i.total_issues+=o.total_issues);}if(Array.isArray(e.estimate_distribution?.labels)){let i=e.estimate_distribution?.labels?.find(d=>d.label_id===a);i&&(i.completed_estimates+=o.completed_estimates??0,i.pending_estimates+=o.pending_estimates??0,i.total_estimates+=o.total_estimates);}}};var P=e=>e?e.startsWith("http")?e:`${API_BASE_URL}${e}`:void 0,ln=(e,t)=>{let r=new FormData;return Object.entries(e.upload_data.fields).forEach(([n,s])=>r.append(n,s)),r.append("file",t),r},mn=e=>({name:e.name,size:e.size,type:e.type}),pn=e=>{e.charAt(e.length-1)==="/"&&(e=e.slice(0,-1));let t=e.split("/");return t[t.length-1]},gn=async e=>{if(!e||typeof e!="string")throw new Error("Invalid URL provided");try{new URL(e);}catch{throw new Error("Invalid URL format")}let t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch image: ${t.statusText}`);let r=await t.blob();return new Promise((n,s)=>{let o=new FileReader;o.onloadend=()=>{o.result?n(o.result):s(new Error("Failed to convert image to base64."));},o.onerror=()=>{s(new Error("Failed to read the image file."));},o.readAsDataURL(r);})},fn=(e,t)=>{let n="data:text/csv;charset=utf-8,"+(Array.isArray(e)?[...e]:[Object.keys(e),Object.values(e)]).map(a=>a.join(",")).join(`
`),s=encodeURI(n),o=document.createElement("a");o.href=s,o.download=`${t}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o);};var hn=e=>{let{assetId:t,projectId:r,workspaceSlug:n}=e,s="";return r?s=P(`/api/assets/v2/workspaces/${n}/projects/${r}/${t}/`):s=P(`/api/assets/v2/workspaces/${n}/${t}/`),s},bn=e=>{let{assetId:t,projectId:r,workspaceSlug:n}=e,s="";return r?s=P(`/api/assets/v2/workspaces/${n}/projects/${r}/download/${t}/`):s=P(`/api/assets/v2/workspaces/${n}/download/${t}/`),s},yn=e=>{if(!e)return "";let t=document.createElement("div");return t.innerHTML=e.toString(),t.textContent?.trim()??""},se=e=>!e||e==="<p></p>"||e==='<p class="editor-paragraph-block"></p>'||e.trim()==="";var Dn=e=>e?e.toString().split("-").map(t=>parseInt(t,16)).join("-"):"",An=e=>e?e.toString().split("-").map(r=>parseInt(r,10).toString(16)).join("-"):"",Sn=(e,t)=>Array.isArray(e)?e.reduce((n,s)=>!s||typeof s!="object"||!Object.prototype.hasOwnProperty.call(s,t)?(console.warn("Skipping undefined reaction or missing key:",s),n):(n[s[t]]||(n[s[t]]=[]),n[s[t]].push(s),n),{}):(console.error("Expected an array of reactions, but got:",e),{}),xn=()=>RANDOM_EMOJI_CODES[Math.floor(Math.random()*RANDOM_EMOJI_CODES.length)];var Mn=(e,t,r)=>{let n=e.map(o=>o.trim()),s=false;return r===void 0?t===EEstimateSystem.CATEGORIES?new Set(n).size!=n.length&&(s=true):[EEstimateSystem.POINTS,EEstimateSystem.TIME].includes(t)&&n.map(o=>{Number(o)===Number(r)&&(s=true);}):t===EEstimateSystem.CATEGORIES?n.map(o=>{o===r.trim()&&(s=true);}):[EEstimateSystem.POINTS,EEstimateSystem.TIME].includes(t)&&n.map(o=>{Number(o)===Number(r.trim())&&(s=true);}),s};var dt=[{pattern:/github\.com/,icon:Github},{pattern:/linkedin\.com/,icon:Linkedin},{pattern:/(twitter\.com|x\.com)/,icon:Twitter},{pattern:/facebook\.com/,icon:Facebook},{pattern:/instagram\.com/,icon:Instagram},{pattern:/youtube\.com/,icon:Youtube},{pattern:/dribbble\.com/,icon:Dribbble}],ut=[{pattern:/figma\.com/,icon:Figma},{pattern:/(google\.com|docs\.|doc\.)/,icon:FileText}],lt=[{pattern:/\.(jpg|jpeg|png|gif|bmp|svg|webp)$/,icon:FileImage},{pattern:/\.(mp4|mov|avi|wmv|flv|mkv)$/,icon:FileVideo},{pattern:/\.(mp3|wav|ogg)$/,icon:FileAudio},{pattern:/\.(zip|rar|7z|tar|gz)$/,icon:FileArchive},{pattern:/\.(xls|xlsx|csv)$/,icon:FileSpreadsheet},{pattern:/\.(pdf|doc|docx|txt)$/,icon:FileText},{pattern:/\.(html|js|ts|jsx|tsx|css|scss)$/,icon:FileCode}],mt=[{pattern:/^mailto:/,icon:Mail},{pattern:/^http/,icon:Chrome}],wn=e=>{let t=e.toLowerCase();return [...dt,...ut,...lt,...mt].find(({pattern:s})=>s.test(t))?.icon??Link2};var $n=e=>{let t=new Date,r,n;switch(e){case EPastDurationFilters.TODAY:return r=b(t),n=b(t),`${r};after,${n};before`;case EPastDurationFilters.YESTERDAY:{let s=subDays(t,1);return r=b(s),n=b(s),`${r};after,${n};before`}case EPastDurationFilters.LAST_7_DAYS:return r=b(subDays(t,7)),n=b(t),`${r};after,${n};before`;case EPastDurationFilters.LAST_30_DAYS:return r=b(subDays(t,30)),n=b(t),`${r};after,${n};before`}};var Gn=(e,t)=>t&&t>0?Math.round((e??0)/t*100):0;var Wn=(e,t)=>{let r=[];return e.length===0||!t?[]:(t==="name"&&(r=T(e,[n=>n.name.toLowerCase()])),t==="-name"&&(r=T(e,[n=>n.name.toLowerCase()]).reverse()),["progress","-progress"].includes(t)&&(r=T(e,[n=>{let s=(n.completed_issues+n.cancelled_issues)/n.total_issues;return isNaN(s)&&(s=0),t==="progress"?s:-s},"name"])),["issues_length","-issues_length"].includes(t)&&(r=T(e,[n=>t==="issues_length"?n.total_issues:!n.total_issues,"name"])),t==="target_date"&&(r=T(e,[n=>n.target_date])),t==="-target_date"&&(r=T(e,[n=>!n.target_date])),t==="created_at"&&(r=T(e,[n=>n.created_at])),t==="-created_at"&&(r=T(e,[n=>!n.created_at])),t==="sort_order"&&(r=T(e,[n=>n.sort_order])),r)},qn=(e,t,r)=>{let n=true;return Object.keys(r).forEach(s=>{let o=s;if(o==="status"&&r.status&&r.status.length>0&&(n=n&&r.status.includes(e.status?.toLowerCase()??"")),o==="lead"&&r.lead&&r.lead.length>0&&(n=n&&r.lead.includes(`${e.lead_id}`)),o==="members"&&r.members&&r.members.length>0){let a=e.member_ids;n=n&&r.members.some(i=>a.includes(i));}if(o==="start_date"&&r.start_date&&r.start_date.length>0){let a=m(e.start_date);r.start_date.forEach(i=>{n=n&&!!a&&h(a,i);});}if(o==="target_date"&&r.target_date&&r.target_date.length>0){let a=m(e.target_date);r.target_date.forEach(i=>{n=n&&!!a&&h(a,i);});}}),t.favorites&&!e.is_favorite&&(n=false),n};var zn=e=>e==null?"":(typeof e!="string"&&(e=`${e}`),e.replace(/([a-z])([A-Z])/g,"$1 $2")),Xn=e=>e.replace(/_/g," "),pt=(e,t)=>!e||e===""?"":e.length>t?`${e.substring(0,t)}...`:e,Qn=e=>e.split("").sort(()=>Math.random()-.5).join(""),Zn=async e=>{let t=typeof window<"u"?window.location.origin:"",r=new URL(e,t);await It(r.toString());},Jn=e=>{let t=e.trim().split(" ");return t.length===1?t[0].charAt(0):t[0].charAt(0)+t[1].charAt(0)},Kn=e=>e>99?"99+":e.toString(),es=e=>e.charAt(0).toUpperCase()+e.slice(1),gt=e=>ie.sanitize(e,{ALLOWED_TAGS:[]}).trim(),ce=(e,t=55)=>pt(gt(e),t),ts=e=>e?/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e):false,ft=(e,t=[])=>ie.sanitize(e,{ALLOWED_TAGS:t}).trim()==="",rs=e=>e?e?.trim()===""||e==="<p></p>"||ft(e??"",["img","mention-component","image-component"]):true,ns=e=>e?/^(https?:\/\/)?((([a-z\d-]+\.)*[a-z\d-]+\.[a-z]{2,6})|(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))(:\d+)?(\/[\w.-]*)*(\?[^#\s]*)?(#[\w-]*)?$/i.test(e):false,ss=(e,t=", ",r="and")=>{if(!e||e.length===0)return "";if(e.length===1)return e[0];if(e.length===2)return `${e[0]} ${r} ${e[1]}`;let n=e[e.length-1];return `${e.slice(0,-1).join(t)}${t}${r} ${n}`},os=e=>e.startsWith("http")?e:`http://${e}`,as=(e,t)=>{try{let r=0;for(let n=0;n<e.length;n++)if(e[n].toLowerCase()===t[r]?.toLowerCase()&&r++,r===t.length)return !0;return !1}catch{return  false}},_t=e=>{let t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy");}catch{}document.body.removeChild(t);},It=async e=>{if(!navigator.clipboard){_t(e);return}await navigator.clipboard.writeText(e);},is=(...e)=>{if(e.length===0)return "";let t=e.filter(s=>s!=="");if(t.length===0)return "";let n=t.map(s=>{let o=s;for(;o.startsWith("/");)o=o.substring(1);for(;o.endsWith("/");)o=o.substring(0,o.length-1);return o}).join("/");try{return new URL(`http://example.com/${n}`).pathname}catch{let s=n.split("/").filter(o=>o!=="");return s.length>0?`/${s.join("/")}`:""}};var us=e=>e&&ce(e.replace(/<mention-component\b[^>]*\blabel="([^"]*)"[^>]*><\/mention-component>/g,"$1"));var fs=(e,t)=>t.filter(r=>e==="public"?r.access===0&&!r.archived_at:e==="private"?r.access===1&&!r.archived_at:e==="archived"?r.archived_at:true),_s=(e,t,r)=>{let n=[];return e.length===0||!t?[]:(t==="name"&&(n=T(e,[s=>s.name?.toLowerCase()]),r==="desc"&&(n=n.reverse())),t==="created_at"&&(n=T(e,[s=>s.created_at]),r==="desc"&&(n=n.reverse())),t==="updated_at"&&(n=T(e,[s=>s.updated_at]),r==="desc"&&(n=n.reverse())),n)},Is=(e,t)=>{let r=true;return Object.keys(t??{}).forEach(n=>{let s=n;if(s==="created_by"&&t?.created_by&&t.created_by.length>0&&(r=r&&t.created_by.includes(`${e.owned_by}`)),s==="created_at"&&t?.created_at&&t.created_at.length>0){let o=m(e.created_at);t?.created_at.forEach(a=>{r=r&&!!o&&h(o,a);});}}),t?.favorites&&!e.is_favorite&&(r=false),r},hs=e=>e===void 0?"":!e||e.trim()===""?"Untitled":e;var Ts=e=>{switch(e){case EUserPermissions.GUEST:return "GUEST";case EUserPermissions.MEMBER:return "MEMBER";case EUserPermissions.ADMIN:return "ADMIN"}},Es=e=>{if(!(!e||e.length===0))return e.reduce((t,r)=>r>t?r:t)};var Ms=(e,t,r,n)=>{if(!r||e<0||t<0||n.length<=0)return;let s,o=1e4;if(t===0)s=(n[t].sort_order||0)-o;else if(t===n.length)s=(n[t-1].sort_order||0)+o;else {let a=n[t-1].sort_order||0,i=n[t].sort_order||0;s=(a+i)/2;}return s},Os=e=>e.replace(/[^ÇŞĞIİÖÜA-Za-z0-9]/g,""),Ns=(e,t,r)=>{let n=true;return Object.keys(r).forEach(s=>{let o=s;if(o==="access"&&r.access&&r.access.length>0&&(n=n&&r.access.includes(`${e.network}`)),o==="lead"&&r.lead&&r.lead.length>0&&(n=n&&r.lead.includes(`${e.project_lead}`)),o==="members"&&r.members&&r.members.length>0){let a=e.members;n=n&&r.members.some(i=>a?.includes(i));}if(o==="created_at"&&r.created_at&&r.created_at.length>0){let a=m(e.created_at);r.created_at.forEach(i=>{n=n&&!!a&&h(a,i);});}}),t.my_projects&&!e.member_role&&(n=false),t.archived_projects&&!e.archived_at&&(n=false),e.archived_at&&(n=t.archived_projects?n:false),n},ws=(e,t)=>{let r=[];return e.length===0||(t==="sort_order"&&(r=T(e,[n=>n.sort_order])),t==="name"&&(r=T(e,[n=>n.name.toLowerCase()])),t==="-name"&&(r=T(e,[n=>n.name.toLowerCase()]).reverse()),t==="created_at"&&(r=T(e,[n=>n.created_at])),t==="-created_at"&&(r=T(e,[n=>!n.created_at])),t==="members_length"&&(r=T(e,[n=>n.members?.length])),t==="-members_length"&&(r=T(e,[n=>n.members?.length]).reverse())),r};var Gs=(e,t,r)=>{if(e.length===0||!t)return [];let n;return t==="name"&&(n=s=>s.name?.toLowerCase()),t==="created_at"&&(n=s=>s.created_at),t==="updated_at"&&(n=s=>s.updated_at),n?ue(e,[n],[r]):[]},vs=(e,t)=>{let r=true;return Object.keys(t??{}).forEach(n=>{let s=n;if(s==="owned_by"&&t?.owned_by&&t.owned_by.length>0&&(r=r&&t.owned_by.includes(`${e.created_by}`)),s==="created_at"&&t?.created_at&&t.created_at.length>0){let o=m(e.created_at);t?.created_at.forEach(a=>{r=r&&!!o&&h(o,a);});}s==="view_type"&&t?.view_type&&t?.view_type?.length>0&&(r=t.view_type.includes(e.access));}),t?.favorites&&!e.is_favorite&&(r=false),r},Vs=e=>e===void 0?"":!e||e.trim()===""?"Untitled":e,js=e=>(e?.display_filters&&e?.display_filters?.layout==="kanban"&&ht(e.display_filters.group_by)&&(e.display_filters.group_by="state"),e),Hs=e=>e?`${(SPACE_BASE_URL.trim()===""?window.location.origin:SPACE_BASE_URL)+SPACE_BASE_PATH}/views/${e}`:void 0;var qs=(e,t)=>{let r=new URLSearchParams(e);return t&&t.forEach(n=>{r.delete(n);}),r.toString()};var Js=(e,t)=>{let r=e*12,n=t*12,o=(r-n)/r*100;return Math.floor(o)},R=e=>{switch(e){case EProductSubscriptionEnum.FREE:return "Free";case EProductSubscriptionEnum.ONE:return "One";case EProductSubscriptionEnum.PRO:return "Pro";case EProductSubscriptionEnum.BUSINESS:return "Business";case EProductSubscriptionEnum.ENTERPRISE:return "Enterprise";default:return "--"}},Ks=(e,t)=>{switch(e){case EProductSubscriptionEnum.ONE:return R(EProductSubscriptionEnum.FREE);case EProductSubscriptionEnum.PRO:return R(t?EProductSubscriptionEnum.ONE:EProductSubscriptionEnum.FREE);case EProductSubscriptionEnum.BUSINESS:return R(EProductSubscriptionEnum.PRO);case EProductSubscriptionEnum.ENTERPRISE:return R(EProductSubscriptionEnum.BUSINESS);default:return "--"}},eo=e=>{let t=e?.prices||[],r=ue(t,["recurring"],["desc"])?.find(a=>a.recurring==="month"),n=Number(((r?.unit_amount||0)/100).toFixed(2)),s=ue(t,["recurring"],["desc"])?.find(a=>a.recurring==="year"),o=Number(((s?.unit_amount||0)/1200).toFixed(2));return {monthlyPriceDetails:{key:"monthly",id:r?.id,currency:"$",price:n,recurring:"month"},yearlyPriceDetails:{key:"yearly",id:s?.id,currency:"$",price:o,recurring:"year"}}};var so=(e,t=false)=>({getIndex:s=>t?void 0:e&&TAB_INDEX_MAP[e].findIndex(o=>o===s)+1,baseTabIndex:t?-1:1});var M=e=>{let t={},{r,g:n,b:s}=H(e),o=a=>{if(a<=100){let i=(100-a)/100,d=Math.floor(r+(255-r)*i),l=Math.floor(n+(255-n)*i),u=Math.floor(s+(255-s)*i);return {r:d,g:l,b:u}}else {let i=1-Math.ceil((a-100)/100)/10,d=Math.ceil(r*i),l=Math.ceil(n*i),u=Math.ceil(s*i);return {r:d,g:l,b:u}}};for(let a=10;a<=900;a>=100?a+=100:a+=10)t[a]=o(a);return t},co=(e,t)=>{if(!e)return;let r=document?.querySelector("html"),n=e.split(",");n.push(t?"dark":"light");let s=M(n[0]),o=M(n[1]),a=M(n[2]),i=M(n[3]),d=M(n[4]);for(let l=10;l<=900;l>=100?l+=100:l+=10){let u=l,g=`${s[u].r}, ${s[u].g}, ${s[u].b}`,y=`${o[u].r}, ${o[u].g}, ${o[u].b}`,_=`${a[u].r}, ${a[u].g}, ${a[u].b}`,S=`${i[u].r}, ${i[u].g}, ${i[u].b}`,O=`${d[u].r}, ${d[u].g}, ${d[u].b}`;if(r?.style.setProperty(`--color-background-${u}`,g),r?.style.setProperty(`--color-text-${u}`,y),r?.style.setProperty(`--color-primary-${u}`,_),r?.style.setProperty(`--color-sidebar-background-${u}`,S),r?.style.setProperty(`--color-sidebar-text-${u}`,O),l>=100&&l<=400){let I=l===100?70:l===200?80:l===300?90:100;r?.style.setProperty(`--color-border-${u}`,`${s[I].r}, ${s[I].g}, ${s[I].b}`),r?.style.setProperty(`--color-sidebar-border-${u}`,`${i[I].r}, ${i[I].g}, ${i[I].b}`);}}r?.style.setProperty("--color-scheme",n[5]);},uo=()=>{for(let e=10;e<=900;e>=100?e+=100:e+=10){let t=document.querySelector("[data-theme='custom']");t?.style.removeProperty(`--color-background-${e}`),t?.style.removeProperty(`--color-text-${e}`),t?.style.removeProperty(`--color-border-${e}`),t?.style.removeProperty(`--color-primary-${e}`),t?.style.removeProperty(`--color-sidebar-background-${e}`),t?.style.removeProperty(`--color-sidebar-text-${e}`),t?.style.removeProperty(`--color-sidebar-border-${e}`),t?.style.removeProperty("--color-scheme");}},lo=e=>e?.includes("light")?"light":e?.includes("dark")?"dark":"system";function go(e){if(!e)return;let t,r=false;try{if(typeof e=="string"){if(e.trim()==="")return;if(/^[a-zA-Z]+:\/\//.test(e))t=new URL(e);else if(le(e)||e.includes("localhost"))r=!0,t=new URL(`http://${e}`);else return}else t=e;let n=t.protocol.slice(0,-1),o=t.pathname.replace(/^\/+/,"").replace(/\/{2,}/g,"/")+t.search+t.hash,a=t.hostname.split("."),i="",d="",l="";return a.length===1?d=a[0]:a.length>=2&&(l=a[a.length-1],d=a[a.length-2],a.length>2&&(i=a.slice(0,-2).join("."))),{protocol:r?"":n,subdomain:i,rootDomain:d,tld:l,path:o,full:t}}catch(n){console.error(`Error extracting URL components: ${e?.toString()||e}`,n);return}}function le(e){if(!e||e.startsWith(".")||e.endsWith("."))return  false;let t=e,r=t.indexOf("/");r!==-1&&(t=t.substring(0,r));let n=t.indexOf("?");n!==-1&&(t=t.substring(0,n));let s=t.indexOf("#");s!==-1&&(t=t.substring(0,s));let o=t.indexOf(":");o!==-1&&(t=t.substring(0,o));let a=t.split(".");if(a.length>=2){let i=a[a.length-1].toLowerCase();return Et.includes(i)}return  false}function fo(e){if(!e||e.trim()==="")return  false;if(e.startsWith("localhost"))try{return new URL(`http://${e}`),!0}catch{return  false}if(e.includes("://")){if(!/^[a-zA-Z]+:\/\//.test(e))return  false;try{let t=new URL(e);return !!t.hostname&&t.hostname!==".com"}catch{return  false}}return !!le(e)}var Fo=(e,t,r,n,s,o)=>{if(!o)return o;if(Array.isArray(o)){let a={...o[n],...e};return o.splice(n,1,a),[...o]}else {let a=o[t??""]??[],i=[];r==="priority"?i=o[e.priority??""]??[]:r==="state"&&(i=o[e.state_id??""]??[]);let d={...a[n],...e};if(r!==Object.keys(e)[0])return {...o,[t??""]:N(a.map(u=>u.id===d.id?d:u),s)};let l=r==="priority"?e.priority:e.state_id;return {...o,[t??""]:N(a.filter(u=>u.id!==d.id),s),[l??""]:N([...i,d],s)}}},Go=(e,t)=>{let r=[];if(!e)return null;let n=ISSUE_DISPLAY_FILTERS_BY_PAGE[t][e];return n.filters.forEach(s=>{r.push(s);}),Object.keys(n.display_filters).forEach(s=>{r.push(s);}),n.extra_options.access&&n.extra_options.values.forEach(s=>{r.push(s);}),r},vo=(e,t)=>({id:v4(),project_id:e,priority:"none",label_ids:[],assignee_ids:[],sub_issues_count:0,attachment_count:0,link_count:0,tempId:v4(),...t}),Vo=(e,t)=>{if(!e||!t||[STATE_GROUPS.completed.key,STATE_GROUPS.cancelled.key].includes(t))return  false;let r=m(e);return r?differenceInCalendarDays(r,new Date)<=0:false},jo=e=>({data:e,id:e?.id,name:e?.name,sort_order:e?.sort_order,start_date:e?.start_date??void 0,target_date:e?.target_date??void 0,meta:{project_id:e?.project_id??void 0}}),Ho=e=>{let t=e.length;switch(t){case 0:return "";case 1:return e[0];case 2:return `${e[0]} and ${e[1]}`;case 3:return `${e.slice(0,2).join(", ")}, and ${e[2]}`;case 4:return `${e.slice(0,3).join(", ")}, and ${e[3]}`;default:return `${e.slice(0,3).join(", ")}, and +${t-3} more`}},Wo=(e,t)=>!se(t)||e?"common.press_for_commands":"common.click_to_add_description",qo=(e,t,r,n)=>{let s=0;return t&&(["spreadsheet","gantt_chart"].includes(t)?s=e?.length:t==="calendar"?Object.keys(e||{}).map(o=>{s+=e?.[o]?.length;}):t==="list"?r?Object.keys(e||{}).map(o=>{s+=e?.[o]?.length;}):s=e?.length:t==="kanban"&&(r&&n?Object.keys(e||{}).map(o=>{Object.keys(e?.[o]||{}).map(a=>{s+=e?.[o]?.[a]?.length||0;});}):r&&Object.keys(e||{}).map(o=>{s+=e?.[o]?.length;}))),s},Bo=(e={},t)=>{let r=Q(e)?t:e;return {calendar:{show_weekends:r?.calendar?.show_weekends||false,layout:r?.calendar?.layout||"month"},layout:r?.layout||EIssueLayoutTypes.LIST,order_by:r?.order_by||"sort_order",group_by:r?.group_by||null,sub_group_by:r?.sub_group_by||null,type:r?.type||null,sub_issue:r?.sub_issue||false,show_empty_groups:r?.show_empty_groups||false}},Yo=(e={})=>({assignee:e?.assignee??true,start_date:e?.start_date??true,due_date:e?.due_date??true,labels:e?.labels??true,priority:e?.priority??true,state:e?.state??true,sub_issue_count:e?.sub_issue_count??true,attachment_count:e?.attachment_count??true,link:e?.link??true,estimate:e?.estimate??true,key:e?.key??true,created_on:e?.created_on??true,updated_on:e?.updated_on??true,modules:e?.modules??true,cycle:e?.cycle??true,issue_type:e?.issue_type??true}),zo=e=>!Q(e.expand)&&!e.group_by||!Q(e.mentions),Xo=({workspaceSlug:e,projectId:t,issueId:r,projectIdentifier:n,sequenceId:s,isArchived:o=false,isEpic:a=false})=>{let i=`/${e}/projects/${t}/archives/issues/${r}`,d=`/${e}/projects/${t}/epics/${r}`,l=`/${e}/browse/${n}-${s}/`;return o?i:a?d:l},Qo=e=>{let t=ISSUE_PRIORITY_FILTERS&&ISSUE_PRIORITY_FILTERS.length>0?ISSUE_PRIORITY_FILTERS.find(r=>r.key===e):void 0;if(t)return t};var ea=(e,t)=>({...DEFAULT_WORK_ITEM_FORM_VALUES,project_id:e,name:t.name,description_html:t.description_html,priority:t.priority,start_date:t.start_date,target_date:t.target_date}),ta=(e,t,r,n)=>({id:t.id,name:t.name,project_id:t.project_id??"",project__identifier:r?.identifier??"",project__name:r?.name??"",sequence_id:t.sequence_id,type_id:t.type_id??"",state__color:n?.color??"",start_date:t.start_date,state__group:n?.group??"backlog",state__name:n?.name??"",workspace__slug:e});function ra(e,t){let r={},n=Object.keys(t);for(let s of n)t[s]&&Ve(r,[s],e[s]);return r}var aa=e=>{if(e)return Object.assign({backlog:[],unstarted:[],started:[],completed:[],cancelled:[]},e)},ia=e=>{if(!(!e||e.length===0))return e.sort((t,r)=>t.group===r.group?t.sequence-r.sequence:Object.keys(STATE_GROUPS).indexOf(t.group)-Object.keys(STATE_GROUPS).indexOf(r.group))},ca=(e,t,r)=>{if(!r)return 65535;let s=e.findIndex(a=>a.id===t.id),o=e[s]?.sequence||void 0;if(!o)return 65535;if(r==="top"){let a=e[s-1]?.sequence||void 0;return a===void 0?o-65535:(o+a)/2}else if(r==="bottom"){let a=e[s+1]?.sequence||void 0;return a===void 0?o+65535:(o+a)/2}};var ga=e=>e.sort((t,r)=>t.name.localeCompare(r.name));
export{ye as PasswordStrength,Kt as addDaysToDate,zn as addSpaceIfCamelCase,co as applyTheme,Bt as authErrorHandler,_e as buildTree,tr as calculateTimeAgo,rr as calculateTimeAgoShort,Le as calculateTotalFilters,Js as calculateYearlyDiscount,es as capitalizeFirstLetter,pr as checkDateCriteria,Ot as checkDuplicates,ts as checkEmailValidity,wt as checkIfArraysHaveSameElements,sr as checkIfDatesAreEqual,ns as checkURLValidity,wr as cn,vt as convertBytesToSize,Dn as convertHexEmojiToDecimal,dr as convertHoursMinutesToMinutes,Se as convertMinutesToHoursAndMinutes,ur as convertMinutesToHoursMinutesString,Fr as convertRemToPixel,$t as convertStringArrayToBooleanObject,ir as convertToEpoch,ar as convertToISODateString,ta as convertWorkItemDataToSearchResponse,It as copyTextToClipboard,Zn as copyUrlToClipboard,vo as createIssuePayload,Qn as createSimilarString,fn as csvDownload,Ne as darkenColor,An as emojiCodeToUnicode,os as ensureUrlHasProtocol,Ur as extractIds,go as extractURLComponents,fs as filterPagesByPageType,Lr as filterValidIds,er as findHowManyDaysLeft,Nt as findStringWithMostCharacters,C as findTotalDaysInRange,Kr as formatActiveCycle,gr as formatDateRange,fr as formatDuration,Ho as formatTextList,Tr as generateCalendarData,v as generateDateArray,Gt as generateFileName,ln as generateFileUploadPayload,xr as generateIconColors,qs as generateQueryParams,Pr as generateRandomColor,Xo as generateWorkItemLink,pn as getAssetIdFromUrl,gn as getBase64Image,Ks as getBaseSubscriptionName,ra as getChangedIssuefields,Bo as getComputedDisplayFilters,Yo as getComputedDisplayProperties,k as getContrastRatio,cr as getCurrentDateTimeInISO,ca as getCurrentStateSequence,$n as getCustomDates,m as getDate,Wo as getDescriptionPlaceholderI18n,an as getDistributionPathsPostUpdate,bn as getEditorAssetDownloadSrc,hn as getEditorAssetSrc,Ie as getFileExtension,mn as getFileMetaDataForUpload,he as getFileName,P as getFileURL,Jn as getFirstCharacters,Es as getHighestRole,wn as getIconForLink,jo as getIssueBlocksStructure,Qo as getIssuePriorityFilters,zo as getIssuesShouldFallbackToServer,j as getLuminance,Kn as getNumberCount,Er as getOrderedDays,hs as getPageName,qt as getPasswordCriteria,Wt as getPasswordStrength,Gn as getProgress,Hs as getPublishViewLink,xn as getRandomEmoji,lr as getReadTimeFromWordsCount,R as getSubscriptionName,eo as getSubscriptionPriceDetails,Nr as getSupportEmail,so as getTabIndex,yn as getTextContent,ea as getUpdateFormDataForReset,Ts as getUserRole,kt as getValidKeysFromObject,js as getValidatedViewFilters,Vs as getViewName,L as getWeekNumberOfDate,Mt as groupBy,Ut as groupByField,Sn as groupReactions,Go as handleIssueQueryParamsByLayout,Fo as handleIssuesMutation,Ar as hexToHsl,H as hexToRgb,Sr as hslToHex,rs as isCommentEmpty,$r as isComplete,nr as isDateGreaterThanToday,se as isEditorEmpty,ft as isEmptyHtmlString,Mn as isEstimatePointValuesRepeated,or as isInDateFormat,jr as isIssueFilterActive,fo as isUrlValid,Cr as isValidId,qo as issueCountBasedOnFilters,is as joinUrlPath,ss as joinWithConjunction,Oe as lightenColor,N as orderArrayBy,Zr as orderCycles,Lt as orderGroupedDataByField,Ms as orderJoinedProjects,Wn as orderModules,_s as orderPages,ws as orderProjects,aa as orderStateGroups,Gs as orderViews,ga as orderWorkspacesList,mr as parseDateFilter,kr as partitionValidIds,xe as processRelativeDate,Os as projectIdentifierSanitizer,Qt as renderFormattedDate,Zt as renderFormattedDateWithoutYear,b as renderFormattedPayloadDate,Jt as renderFormattedTime,Xn as replaceUnderscoreIfSnakeCase,lo as resolveGeneralTheme,Me as rgbToHex,us as sanitizeCommentForNotification,gt as sanitizeHTML,h as satisfiesDateFilter,Jr as shouldFilterCycle,qn as shouldFilterModule,Is as shouldFilterPage,Ns as shouldFilterProject,vs as shouldFilterView,Vo as shouldHighlightIssueDueDate,Ct as sortByField,ia as sortStates,ce as stripAndTruncateHTML,as as substringMatch,V as toHex,pt as truncateText,uo as unsetCustomCssVariables,cn as updateDistribution,Re as validateColor};