@startuml act_breakdown_epic
skinparam defaultFontSize 13
skinparam activityFontSize 12
skinparam activityDiamondFontSize 11
skinparam activityArrowFontSize 10
skinparam partitionFontSize 13

|Người dùng|
start
:Mở Epic & Break Down;

|Giao diện|
:Dialog config & loading;

|Hệ thống|
:Chuẩn bị context;
:Gọi LLM API;

if (Success?) then (không)
  |Giao diện|
  :Báo lỗi;
  stop
endif

|Hệ thống|
:Parse & validate JSON;
:Tạo subtasks & link;
:Ghi log & gửi WS;

|Giao diện|
:Preview subtasks;

|Người dùng|
:Review & edit;
:Confirm tạo;

|Giao diện|
:Cập nhật UI;

|Người dùng|
stop
@enduml
