<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>UC08 - Gửi tệp đính kèm</title>
    <style>
        body { font-family: 'Times New Roman', serif; font-size: 13pt; margin: 20px; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid black; padding: 8px; text-align: left; vertical-align: top; }
        .header-row td:first-child { width: 70%; }
        .header-row td:last-child { width: 30%; }
        ul, ol { margin: 5px 0; padding-left: 20px; }
        .section-title { font-weight: bold; }
    </style>
</head>
<body>

<table>
    <tr class="header-row">
        <td><strong>Tên chức năng:</strong> Gửi tệp đính kèm</td>
        <td><strong>ID:</strong> UC08</td>
    </tr>
    <tr>
        <td><strong>Người sử dụng:</strong> Member</td>
        <td><strong>Mức độ cần thiết:</strong> Bắt buộc</td>
    </tr>
    <tr>
        <td colspan="2" style="text-align: right;"><strong>Phân loại:</strong> Trung bình</td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Các thành phần tham gia và mối quan tâm:</p>
            <ul>
                <li><strong>Member:</strong> Muốn chia sẻ tài liệu, hình ảnh hoặc các tệp khác trong cuộc trò chuyện.</li>
                <li><strong>File Service:</strong> Nhận và lưu trữ tệp đính kèm.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Mô tả tóm tắt:</p>
            <p>Cho phép Member gửi tệp đính kèm (tài liệu, hình ảnh, PDF, v.v.) trong tin nhắn. Tệp được upload lên File Service của phân hệ nền tảng và liên kết với tin nhắn.</p>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p><strong>Trigger:</strong> Member chọn chức năng đính kèm file hoặc kéo thả file vào khung chat.</p>
            <p><strong>Kiểu sự kiện:</strong> External</p>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Luồng xử lý bình thường của sự kiện:</p>
            <ol>
                <li>Member nhấn icon "Đính kèm" hoặc kéo thả file vào khung chat.</li>
                <li>Hệ thống hiển thị dialog chọn file (nếu nhấn icon).</li>
                <li>Member chọn file cần gửi.</li>
                <li>Hệ thống kiểm tra định dạng và kích thước file.</li>
                <li>Hệ thống upload file lên File Service.</li>
                <li>Hệ thống tạo tin nhắn với tệp đính kèm.</li>
                <li>Tin nhắn với preview file hiển thị trong kênh.</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Các luồng sự kiện con (Subflows):</p>
            <p>N/A</p>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Luồng luân phiên/đặc biệt (Alternative/Exceptional flows):</p>
            <p><strong>4a. File quá lớn:</strong></p>
            <p>5. Hệ thống thông báo "File vượt quá kích thước cho phép (tối đa XX MB)".</p>
            <p><strong>4b. Định dạng không được hỗ trợ:</strong></p>
            <p>5. Hệ thống thông báo "Định dạng file không được hỗ trợ".</p>

        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p><strong>Kết quả:</strong> Tệp được upload và hiển thị trong tin nhắn cho tất cả thành viên kênh.</p>
        </td>
    </tr>
</table>

</body>
</html>