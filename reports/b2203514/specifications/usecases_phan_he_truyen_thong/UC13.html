<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>UC13 - Hỏi đáp theo ngữ cảnh</title>
    <style>
        body { font-family: 'Times New Roman', serif; font-size: 13pt; margin: 20px; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid black; padding: 8px; text-align: left; vertical-align: top; }
        .header-row td:first-child { width: 70%; }
        .header-row td:last-child { width: 30%; }
        ul, ol { margin: 5px 0; padding-left: 20px; }
        .section-title { font-weight: bold; }
    </style>
</head>
<body>

<table>
    <tr class="header-row">
        <td><strong>Tên chức năng:</strong> Hỏi đáp theo ngữ cảnh</td>
        <td><strong>ID:</strong> UC13</td>
    </tr>
    <tr>
        <td><strong>Người sử dụng:</strong> Member</td>
        <td><strong>Mức độ cần thiết:</strong> Quan trọng</td>
    </tr>
    <tr>
        <td colspan="2" style="text-align: right;"><strong>Phân loại:</strong> Phức tạp</td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Các thành phần tham gia và mối quan tâm:</p>
            <ul>
                <li><strong>Member:</strong> Muốn đặt câu hỏi và nhận câu trả lời dựa trên nội dung đã trao đổi trong kênh.</li>
                <li><strong>AI Provider:</strong> Truy xuất ngữ cảnh và sinh câu trả lời.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Mô tả tóm tắt:</p>
            <p>Cho phép Member đặt câu hỏi về nội dung đã trao đổi trong kênh. AI sử dụng kiến trúc RAG để truy xuất ngữ cảnh liên quan từ vector database và sinh câu trả lời chính xác.</p>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p><strong>Trigger:</strong> Member nhập câu hỏi vào AI Assistant.</p>
            <p><strong>Kiểu sự kiện:</strong> External</p>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Luồng xử lý bình thường của sự kiện:</p>
            <ol>
                <li>Member mở panel AI Assistant.</li>
                <li>Member nhập câu hỏi về nội dung kênh.</li>
                <li>Hệ thống tạo embedding cho câu hỏi.</li>
                <li>Hệ thống truy xuất các tin nhắn/tài liệu liên quan từ vector database.</li>
                <li>Hệ thống gửi câu hỏi + context đến LLM.</li>
                <li>LLM sinh câu trả lời dựa trên context.</li>
                <li>Hệ thống hiển thị câu trả lời kèm nguồn tham chiếu.</li>
                <li>Member có thể click vào nguồn để xem tin nhắn gốc.</li>
            </ol>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Các luồng sự kiện con (Subflows):</p>
            <p>N/A</p>
        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p class="section-title">Luồng luân phiên/đặc biệt (Alternative/Exceptional flows):</p>
            <p><strong>4a. Không tìm thấy context liên quan:</strong></p>
            <p>5. AI trả lời dựa trên kiến thức chung và thông báo "Không tìm thấy thông tin cụ thể trong kênh".</p>

        </td>
    </tr>
    <tr>
        <td colspan="2">
            <p><strong>Kết quả:</strong> Member nhận được câu trả lời chính xác dựa trên nội dung đã trao đổi trong kênh.</p>
        </td>
    </tr>
</table>

</body>
</html>