\subsection{Các yêu cầu phi chức năng}

\subsubsection{Yêu cầu thực thi}
\begin{itemize}
    \item Thiết bị sử dụng cần kết nối Internet ổn định để duy trì kết nối WebSocket.
    \item Thời gian gửi và nhận tin nhắn qua WebSocket không vượt quá 500ms trong điều kiện mạng bình thường.
    \item Thời gian phản hồi API (tải lịch sử tin nhắn, tìm kiếm) không vượt quá 2 giây.
    \item Kết quả từ chức năng tìm kiếm tin nhắn (full-text và semantic search) đảm bảo chính xác và có độ liên quan cao.
    \item Ứng dụng chat hoạt động ổn định, tự động reconnect khi mất kết nối WebSocket.
    \item Hỗ trợ tối thiểu 5000 kết nối WebSocket đồng thời trên mỗi instance.
    \item Thời gian xử lý AI (tóm tắt hội thoại, hỏi đáp, trích xuất action items) không quá 15 giây.
    \item Thời gian tạo embedding cho tin nhắn mới không ảnh hưởng đến trải nghiệm gửi tin nhắn.
\end{itemize}

\subsubsection{Yêu cầu an toàn}
\begin{itemize}
    \item Đảm bảo sao lưu và khôi phục dữ liệu tin nhắn, lịch sử hội thoại an toàn khi nâng cấp hoặc bảo trì.
    \item Khả năng mở rộng để xử lý lượng lớn tin nhắn, kênh trò chuyện và tệp đính kèm.
    \item Hệ thống ổn định, không chứa mã độc hoặc phần mềm độc hại.
    \item Backup tự động hàng ngày cho database tin nhắn và vector database, lưu trữ tối thiểu 30 ngày.
    \item Mã hóa dữ liệu khi truyền tải qua WebSocket (WSS với TLS 1.3) và lưu trữ (AES-256).
    \item Hỗ trợ cơ chế message queue để đảm bảo không mất tin nhắn khi có sự cố.
\end{itemize}

\subsubsection{Yêu cầu về giao diện}
\begin{itemize}
    \item Giao diện chat hiện đại, màu sắc hài hòa, phong cách chuyên nghiệp phù hợp với môi trường làm việc doanh nghiệp.
    \item Bố cục rõ ràng với ba vùng chính: danh sách kênh (sidebar), khung trò chuyện (main), và panel thông tin/AI (right panel).
    \item Hỗ trợ hiển thị typing indicator, trạng thái đã đọc/chưa đọc, và thông báo tin nhắn mới trực quan.
    \item Hiển thị kết quả AI (tóm tắt, action items, câu trả lời) trong panel riêng biệt với format dễ đọc.
    \item Hỗ trợ preview tệp đính kèm (hình ảnh, PDF, văn bản) trực tiếp trong khung chat.
    \item Đảm bảo nhất quán kiểu chữ, biểu tượng, màu sắc và hỗ trợ Dark Mode/Light Mode.
    \item Giao diện responsive, hoạt động tốt trên cả desktop và tablet.
\end{itemize}

\subsubsection{Yêu cầu về tính bảo mật}
\begin{itemize}
    \item Phân quyền truy cập kênh theo vai trò (Channel Admin, Member) và loại kênh (công khai, riêng tư).
    \item Kiểm soát quyền xem, gửi tin nhắn, quản lý thành viên trong từng kênh.
    \item Bảo mật kết nối WebSocket với xác thực token trước khi cho phép kết nối.
    \item Xác thực và phân quyền API bằng JWT với thời hạn ngắn, làm mới định kỳ.
    \item Đảm bảo AI Assistant chỉ truy cập nội dung trong các kênh mà người dùng có quyền xem.
    \item Không lưu trữ nội dung nhạy cảm trong log hệ thống.
    \item Hỗ trợ soft delete tin nhắn, cho phép khôi phục trong thời gian nhất định trước khi xóa vĩnh viễn.
    \item Rate limiting cho API và WebSocket để ngăn chặn spam và tấn công DDoS.
\end{itemize}