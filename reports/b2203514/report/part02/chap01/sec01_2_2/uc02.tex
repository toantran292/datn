\paragraph{UC02: Quản lý thành viên kênh}
\mbox{}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.6\textwidth]{images/UC02.png}
    \caption{Sơ đồ use case UC02 - Quản lý thành viên kênh}
    \label{fig:uc02}
\end{figure}

\begin{adjustwidth}{-2cm}{-1cm}
\begin{longtblr}[
    caption = {Đặc tả use case UC02 - Quản lý thành viên kênh},
    label = {tab:uc02}
]{
    colspec={|l|p{.7\linewidth}|}
}
\hline
\textbf{Tên chức năng} & \textbf{Quản lý thành viên kênh} \\\hline
ID & UC02 \\\hline
Người sử dụng & Workspace Owner, Channel Admin \\\hline
Mức độ cần thiết & Bắt buộc \\\hline
Phân loại & Trung bình \\\hline
Các thành phần tham gia &
\begin{minipage}{\linewidth}
    \vskip 4pt
    + \textbf{Workspace Owner/Channel Admin:} Muốn quản lý danh sách thành viên trong kênh, mời người mới, xóa thành viên và phân quyền truy cập. \\
    + \textbf{Member:} Được mời vào kênh hoặc bị xóa khỏi kênh.
    \vskip 1pt
\end{minipage}
\\\hline
Mô tả tóm tắt & Cho phép Channel Admin mời thành viên workspace vào kênh, xóa thành viên khỏi kênh, và phân quyền Admin/Member cho từng thành viên trong kênh. \\\hline
Trigger & Channel Admin chọn chức năng "Quản lý thành viên" của một kênh. \\\hline
Kiểu sự kiện & External. \\\hline
Luồng xử lý bình thường &
\begin{minipage}{\linewidth}
    \vskip 4pt
    \begin{enumerate}
        \item Channel Admin truy cập vào cài đặt của kênh.
        \item Channel Admin chọn tab "Thành viên".
        \item Hệ thống hiển thị danh sách thành viên hiện tại của kênh.
        \item Channel Admin chọn "Mời thành viên".
        \item Hệ thống hiển thị danh sách thành viên workspace chưa tham gia kênh.
        \item Channel Admin chọn một hoặc nhiều thành viên và nhấn "Mời".
        \item Hệ thống thêm thành viên vào kênh và gửi thông báo.
        \item Danh sách thành viên được cập nhật.
    \end{enumerate}
    \vskip 1pt
\end{minipage}
\\\hline
Các luồng sự kiện con &
\begin{minipage}{\linewidth}
    \vskip 4pt
    + \textbf{S1 - Xóa thành viên:} Channel Admin chọn thành viên → Chọn "Xóa" → Xác nhận → Thành viên bị xóa khỏi kênh.

    + \textbf{S2 - Phân quyền:} Channel Admin chọn thành viên → Chọn vai trò (Admin/Member) → Lưu → Quyền được cập nhật.
    \vskip 1pt
\end{minipage}
\\\hline
Luồng thay thế/ngoại lệ &
\begin{minipage}{\linewidth}
    \vskip 4pt
    \textbf{\textcolor{red}{A1}} -- Thành viên đã tồn tại trong kênh: Hệ thống bỏ qua thành viên đã tồn tại và chỉ thêm các thành viên mới.

    \textbf{\textcolor{red}{E1}} -- Không thể xóa Channel Admin cuối cùng: Hệ thống thông báo "Kênh phải có ít nhất một Admin".
    \vskip 1pt
\end{minipage}
\\\hline
Kết quả & Danh sách thành viên kênh được cập nhật (thêm/xóa/thay đổi quyền). \\\hline
\end{longtblr}
\end{adjustwidth}
