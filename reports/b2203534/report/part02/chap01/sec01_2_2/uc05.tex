\paragraph{UC05: Quản lý Thông báo}
\mbox{}

% UC05.1 - Xem thông báo
\textbf{UC05.1 - Xem thông báo}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{images/uc05_1_view_notification.png}
    \caption{Sơ đồ use case chức năng xem thông báo}
    \label{fig:uc05_1_view_notification}
\end{figure}

\begin{adjustwidth}{-1.5cm}{-0.5cm}
\begin{longtblr}[
    caption = {Đặc tả use case UC05.1 - Xem thông báo},
    label = {tab:uc05_1},
]{
    colspec={|l|p{.7\linewidth}|}
}
\hline
\textbf{Tên chức năng} & \textbf{Xem thông báo} \\\hline
ID & UC05.1 \\\hline
Người sử dụng & User \\\hline
Mức độ cần thiết & Bắt buộc \\\hline
Phân loại & Trung bình \\\hline
Các thành phần tham gia & + \textbf{User:} Muốn xem các thông báo về hoạt động liên quan đến mình. \\\hline
Mô tả tóm tắt & Chức năng hiển thị danh sách thông báo của người dùng. \\\hline
Trigger & User click vào icon thông báo (bell icon). \\\hline
Kiểu sự kiện & External. \\\hline
Luồng xử lý bình thường &
\begin{minipage}{\linewidth}
    \vskip 4pt
    \begin{enumerate}
        \item User click icon thông báo.
        \item Hệ thống truy vấn danh sách thông báo của user.
        \item Hệ thống hiển thị dropdown với các thông báo gần đây.
        \item User click vào một thông báo.
        \item Hệ thống đánh dấu thông báo đã đọc.
        \item Hệ thống chuyển đến nội dung liên quan.
    \end{enumerate}
    \vskip 1pt
\end{minipage}
\\\hline
Các luồng sự kiện con & N/A \\\hline
Luồng luân phiên/đặc biệt &
\begin{minipage}{\linewidth}
    \vskip 4pt
    \textcolor{red}{+ A1: Xem tất cả thông báo → Chuyển đến trang Notifications đầy đủ.}
    \vskip 1pt
\end{minipage}
\\\hline
Kết quả & User xem được thông báo và có thể truy cập nội dung liên quan. \\\hline
\end{longtblr}
\end{adjustwidth}

\vspace{1em}

% UC05.2 - Cấu hình thông báo
\textbf{UC05.2 - Cấu hình thông báo}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{images/uc05_2_config_notification.png}
    \caption{Sơ đồ use case chức năng cấu hình thông báo}
    \label{fig:uc05_2_config_notification}
\end{figure}

\begin{adjustwidth}{-1.5cm}{-0.5cm}
\begin{longtblr}[
    caption = {Đặc tả use case UC05.2 - Cấu hình thông báo},
    label = {tab:uc05_2},
]{
    colspec={|l|p{.7\linewidth}|}
}
\hline
\textbf{Tên chức năng} & \textbf{Cấu hình thông báo} \\\hline
ID & UC05.2 \\\hline
Người sử dụng & User \\\hline
Mức độ cần thiết & Bắt buộc \\\hline
Phân loại & Thấp \\\hline
Các thành phần tham gia & + \textbf{User:} Muốn tùy chỉnh loại thông báo và kênh nhận thông báo. \\\hline
Mô tả tóm tắt & Chức năng cho phép user thiết lập preferences cho thông báo. \\\hline
Trigger & User truy cập Settings > Notifications. \\\hline
Kiểu sự kiện & External. \\\hline
Luồng xử lý bình thường &
\begin{minipage}{\linewidth}
    \vskip 4pt
    \begin{enumerate}
        \item User truy cập Settings > Notifications.
        \item Hệ thống hiển thị cài đặt hiện tại.
        \item User chọn loại thông báo (mentions, updates, invites...).
        \item User chọn kênh (in-app, email, push).
        \item User nhấn "Lưu".
        \item Hệ thống cập nhật preferences.
    \end{enumerate}
    \vskip 1pt
\end{minipage}
\\\hline
Các luồng sự kiện con & N/A \\\hline
Luồng luân phiên/đặc biệt & N/A \\\hline
Kết quả & Preferences thông báo được lưu và áp dụng. \\\hline
\end{longtblr}
\end{adjustwidth}

\vspace{1em}

% UC05.3 - Đánh dấu đã đọc
\textbf{UC05.3 - Đánh dấu đã đọc}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{images/uc05_3_mark_as_read.png}
    \caption{Sơ đồ use case chức năng đánh dấu đã đọc}
    \label{fig:uc05_3_mark_as_read}
\end{figure}

\begin{adjustwidth}{-1.5cm}{-0.5cm}
\begin{longtblr}[
    caption = {Đặc tả use case UC05.3 - Đánh dấu đã đọc},
    label = {tab:uc05_3},
]{
    colspec={|l|p{.7\linewidth}|}
}
\hline
\textbf{Tên chức năng} & \textbf{Đánh dấu đã đọc} \\\hline
ID & UC05.3 \\\hline
Người sử dụng & User \\\hline
Mức độ cần thiết & Bắt buộc \\\hline
Phân loại & Thấp \\\hline
Các thành phần tham gia & + \textbf{User:} Muốn quản lý trạng thái đọc của thông báo. \\\hline
Mô tả tóm tắt & Chức năng cho phép user đánh dấu một hoặc nhiều thông báo là đã đọc. \\\hline
Trigger & User chọn "Đánh dấu đã đọc" cho thông báo. \\\hline
Kiểu sự kiện & External. \\\hline
Luồng xử lý bình thường &
\begin{minipage}{\linewidth}
    \vskip 4pt
    \begin{enumerate}
        \item User chọn thông báo hoặc "Đánh dấu tất cả đã đọc".
        \item User nhấn "Đánh dấu đã đọc".
        \item Hệ thống cập nhật trạng thái thông báo.
        \item Hệ thống cập nhật badge số thông báo chưa đọc.
    \end{enumerate}
    \vskip 1pt
\end{minipage}
\\\hline
Các luồng sự kiện con & N/A \\\hline
Luồng luân phiên/đặc biệt & N/A \\\hline
Kết quả & Thông báo được đánh dấu đã đọc và badge được cập nhật. \\\hline
\end{longtblr}
\end{adjustwidth}
